# ============================================================================
# Supply Chain Security Configuration
# ============================================================================
# This project uses secure package indexes for supply chain security:
#   1. Google Assured OSS (SLSA Level 3) - third-party packages
#   2. Internal Artifact Registry - organization packages
#   3. PyPI (fallback) - packages not in Assured OSS
#
# Documentation: https://cloud.google.com/assured-open-source-software

# ============================================================================
# Infisical - Centralized Secrets Management
# ============================================================================
# Secrets are managed via Infisical instead of GitHub Secrets.
# Domain: https://infisical.williamshome.family
#
# For local development, use Infisical CLI:
#   infisical run --env=dev -- uv run python main.py
#
# Or export secrets to .env:
#   infisical export --env=dev > .env.local
#
# Machine Identity (for CI/CD) - Add these to GitHub Secrets:
# INFISICAL_CLIENT_ID=your-machine-identity-client-id
# INFISICAL_CLIENT_SECRET=your-machine-identity-client-secret

# ============================================================================
# Google Cloud - Artifact Registry & Assured OSS
# ============================================================================
# Google Cloud Project ID
# Find this in your GCP Console: https://console.cloud.google.com
GOOGLE_CLOUD_PROJECT=assured-oss-457903

# Google Service Account Credentials (Base64 encoded)
# Setup Instructions:
# 1. Create a service account with "Artifact Registry Reader" role
# 2. Download the JSON key file
# 3. Base64 encode it: base64 -w 0 service-account-key.json
# 4. Store in Infisical as GCP_SA_KEY_BASE64
#
# For local development, use Application Default Credentials:
#   gcloud auth application-default login
#
# Or set the file path directly:
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Internal Artifact Registry
GCP_ARTIFACT_REGISTRY=python-libs
GCP_REGION=us-central1

# ============================================================================
# AI/ML Service API Keys
# ============================================================================

# OpenRouter API Key (for LLM access)
# Get your API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=your-openrouter-api-key-here

# OpenRouter Configuration (optional)
OPENROUTER_MODEL=anthropic/claude-3.5-sonnet
OPENROUTER_MAX_TOKENS=4096
OPENROUTER_TEMPERATURE=0.7

# Modal Labs Token (for GPU/serverless compute)
# Get your token from: https://modal.com/settings
MODAL_TOKEN_ID=your-modal-token-id-here
MODAL_TOKEN_SECRET=your-modal-token-secret-here

# Modal Configuration (optional)
MODAL_WORKSPACE=default

# Hugging Face API Token (for model access and inference)
# Get your token from: https://huggingface.co/settings/tokens
HUGGINGFACE_TOKEN=your-huggingface-token-here

# Hugging Face Configuration (optional)
HUGGINGFACE_HUB_CACHE=~/.cache/huggingface
HUGGINGFACE_MODEL_ID=meta-llama/Llama-2-7b-hf

# Google HMAC Keys (for Cloud Storage authentication)
# Generate keys from: https://console.cloud.google.com/storage/settings
# Used for signing requests to Google Cloud Storage
GOOGLE_HMAC_ACCESS_KEY_ID=your-google-hmac-access-key-id
GOOGLE_HMAC_SECRET=your-google-hmac-secret

# Google Cloud Storage Configuration (optional)
GCS_BUCKET_NAME=your-bucket-name
GCS_REGION=us-central1

# ============================================================================
# Project Configuration
# ============================================================================
PROJECT_NAME=Fragrance Rater
PROJECT_ENV=development

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/application.log

# Application Settings
DEBUG=False
WORKERS=4

# Database Configuration (if applicable)
# DATABASE_URL=sqlite:///./app.db
# DATABASE_POOL_SIZE=10
# DATABASE_POOL_TIMEOUT=30

# API Configuration (if applicable)
# API_HOST=0.0.0.0
# API_PORT=8000
# API_DEBUG=False
# API_RELOAD=False

# Authentication (if applicable)
# SECRET_KEY=your-secret-key-here
# ALGORITHM=HS256
# ACCESS_TOKEN_EXPIRE_MINUTES=30

# External Services (if applicable)
# EXTERNAL_API_KEY=your-api-key
# EXTERNAL_API_URL=https://api.example.com

# Feature Flags
# ENABLE_FEATURE_X=True
# ENABLE_FEATURE_Y=False

# Performance Tuning
# MAX_WORKERS=10
# TIMEOUT_SECONDS=30
# BATCH_SIZE=32

# Monitoring and Analytics (if applicable)
# ENABLE_METRICS=False

# ============================================================================
# Sentry Error Tracking and Performance Monitoring
# ============================================================================

# Sentry DSN (Data Source Name) - Required for error tracking
# Get your DSN from: https://sentry.io/settings/projects/
# Format: https://<key>@<organization>.ingest.sentry.io/<project-id>
SENTRY_DSN=

# Sentry Environment (e.g., production, staging, development)
# Used to filter errors by environment in Sentry dashboard
SENTRY_ENVIRONMENT=${ENVIRONMENT:-development}

# Sentry Release Version (optional)
# Automatically detected from git SHA or package version if not set
# Format: <package-name>@<version> (e.g., myapp@1.0.0)
# SENTRY_RELEASE=

# Performance Monitoring - Traces Sample Rate (0.0 to 1.0)
# Percentage of transactions to send to Sentry for performance monitoring
# 0.1 = 10% of requests, 1.0 = 100% of requests
# Recommended: 0.1 for production, 1.0 for staging/dev
SENTRY_TRACES_SAMPLE_RATE=0.1

# Profiling - Profiles Sample Rate (0.0 to 1.0)
# Percentage of traces to profile (requires traces to be sampled)
# 0.1 = 10% of sampled traces, 1.0 = 100% of sampled traces
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ============================================================================
# CI/CD and Code Quality Services
# ============================================================================

# Codecov Token (for test coverage reporting)
# Get your token from: https://app.codecov.io/gh/ByronWilliamsCPA/fragrance_rater/settings
# Required for uploading coverage reports to Codecov in CI/CD
# IMPORTANT: Add this to GitHub Secrets as CODECOV_TOKEN
CODECOV_TOKEN=your-codecov-token-here

# SonarCloud Token (for continuous code quality analysis)
# Get your token from: https://sonarcloud.io/account/security
# Required for SonarCloud analysis in CI/CD
# IMPORTANT: Add this to GitHub Secrets as SONAR_TOKEN
SONAR_TOKEN=your-sonarcloud-token-here

# SonarCloud Configuration
SONAR_ORGANIZATION=williaby
SONAR_PROJECT_KEY=ByronWilliamsCPA_fragrance_rater

# ============================================================================
# Redis Configuration (Caching & Background Jobs)
# ============================================================================

# Redis Connection URL
# Format: redis://[:password]@host:port/db
# For TLS: rediss://[:password]@host:port/db
REDIS_URL=redis://localhost:6379/0

# Cache Settings
CACHE_TTL_SECONDS=3600
CACHE_MAX_CONNECTIONS=50


# ARQ Background Job Configuration
# Redis database for ARQ jobs (separate from cache)
ARQ_REDIS_URL=redis://localhost:6379/1

# ARQ Worker Settings
ARQ_MAX_JOBS=10
ARQ_JOB_TIMEOUT_SECONDS=300
ARQ_KEEP_RESULT_SECONDS=3600

# ARQ Queue Settings
ARQ_QUEUE_NAME=arq:queue
ARQ_MAX_TRIES=3
ARQ_RETRY_DELAY_SECONDS=60





# ============================================================================
# Docker Configuration
# ============================================================================

# Application port (backend API)
APP_PORT=8000

# Database port (if using PostgreSQL)
DB_PORT=5432
DB_PASSWORD=password

# Environment
ENVIRONMENT=development
VERSION=latest


# Frontend port (Vite dev server in development, nginx in production)
FRONTEND_PORT=3000

# API URL for frontend (used during frontend build for production)
VITE_API_URL=http://localhost:8000

# Frontend replicas in production
FRONTEND_REPLICAS=1
